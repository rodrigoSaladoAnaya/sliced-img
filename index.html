<!DOCTYPE html>
<html>
<head>
	<title>Sliced Img</title>
</head>
<body>	
	<div>
		<img id="anime1" src="img/anime_background1.jpg">		
	<div>
</body>
<html>
<script src="js/TweenMax.js"></script>
<script src="js/sliced-img.js"></script>
<script>
	var documentReady = function(funcBody) {
		var st = setInterval( function () {
		    if (document.readyState === 'complete') {
				clearInterval(st);
				funcBody();
		    }
		}, 100);
	}

	documentReady(function() {		
		var slicedObj = new SlicedImg({img: "#anime1", columns: 10, rows: 5});
		var tl = new TimelineMax();
		var ramdom_tails = Array.from(slicedObj.tiles).sort(function(a, b) {
			return a.getAttribute('random')-b.getAttribute('random');
		});
		tl.staggerFrom(ramdom_tails, 0.5, {opacity: 0.4}, 0.1, "+=0.2");
	});
</script>